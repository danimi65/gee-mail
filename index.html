<html>
<head>
	<script src="js/mail-generator.js"></script>
	<link href="css/style.css" rel="stylesheet" media="screen">
	<link href="https://fonts.googleapis.com/css?family=Great+Vibes|Homemade+Apple|Pacifico" rel="stylesheet">
	<script>
		window.onload = function(){
		        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
		        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

					

		        	var pageLoad= window.geemails;
		     
		        	for(var i=0; i < pageLoad.length; i++){


		        		var mailBox = document.createElement('div');
		        		mailBox.className = "allMahMail";
		        		mailContainer.appendChild(mailBox);
		        		mailBox.addEventListener('click', theList);

		        		var subjectBox= document.createElement('div');
		        		subjectBox.className = "mahSubjects";
		        		subjectBox.innerHTML = pageLoad[i].subject;
		        		mailBox.appendChild(subjectBox);

		        		var dateBox= document.createElement('div');
		        		dateBox.className = "mahDates";
		        		dateBox.innerHTML= pageLoad[i].date;
		        		mailBox.appendChild(dateBox);

		        		var senderBox= document.createElement('div');
		        		senderBox.className = "theSenders";
		        		senderBox.innerHTML = pageLoad[i].sender;
		        		mailBox.appendChild(senderBox);

		        		var messageBox = document.createElement('div');
		        		messageBox.className= "messages";
		        		messageBox.innerHTML= pageLoad[i].body;
		        		messageBox.style.display= 'none';
		        		mailBox.appendChild(messageBox);


		        	}



		       
					/*var mailPageCount= geemails.length;
					console.log(mailPageCount);
*/
		        

		    	

		    


		     /*  var counter = geemails.length;*/
		        /*count.appendChild(counter);*/

		       /* console.log(counter);*/

		     




		    /*  var bodyList= document.getElementsByClassName('.body');
		      for(var i=0; i< bodyList.length; i++){
		      	bodyList[i].addEventListener('click', theList);
		      }*/

		      	function theList(){
		      		var showMessage= this.querySelectorAll('.messages')[0];
		      		console.log(this);
		      		if(showMessage.style.display === 'none'){
		      			showMessage.style.display = 'block'; 
		      		} else {
		      			showMessage.style.display = 'none';
		      		}

		      	} 

		      	  count.innerHTML= "Inbox " + i;

		      



		      function test(){
		        		//console.log(window.getNewMessage);


		        		/*geemails.length++;*/

		        		/*var newMailCount= mailPageCount++;*/

		        		i++;

		        		count.innerHTML= "Inbox " + i;



		        		var newMail = window.getNewMessage();

		        		var newMailBox = document.createElement('div');
		        		newMailBox.className = "allMahNewMail";
		        		mailContainer.appendChild(newMailBox);
		        		newMailBox.addEventListener('click', theNewList);
		        		
		        		var newSubjectBox= document.createElement('div');
		        		newSubjectBox.className = "mahNewSubjects";
		        		newSubjectBox.innerHTML = newMail.subject;
		        		newMailBox.appendChild(newSubjectBox);

		        		var newDateBox= document.createElement('div');
		        		newDateBox.className = "mahNewDates";
		        		newDateBox.innerHTML= newMail.date;
		        		newMailBox.appendChild(newDateBox);

		        		var newSenderBox= document.createElement('div');
		        		newSenderBox.className = "theNewSenders";
		        		newSenderBox.innerHTML = newMail.sender;
		        		newMailBox.appendChild(newSenderBox);

		        		var newMessageBox = document.createElement('div');
		        		newMessageBox.className= "newMessages";
		        		newMessageBox.innerHTML= newMail.body;
		        		newMessageBox.style.display= 'none';
		        		newMailBox.appendChild(newMessageBox);

		        		mailContainer.insertBefore(newMailBox, mailContainer.childNodes[0]);

		        	} 
		        	/*test();*/




		    
		        	// var newMail = {
		        	// 	getNewMessage(){
		        	// 		return this;
		        	// 	}
		        	// }

		        	setInterval(test, 3000);

		        	function theNewList(){
		      		var showMessage= this.querySelectorAll('.newMessages')[0];
		      		console.log(this);
		      		if(showMessage.style.display === 'none'){
		      			showMessage.style.display = 'block'; 
		      		} else {
		      			showMessage.style.display = 'none';
		      		}

		      	} 



		        	




		        





		        	//	function reset (){
		        	//	 setInterval(window.getNewMessage, 3000); 
		        	//	}

		        	//	reset();


		        	










		        	console.log(window.geemails);
		        };
		    </script>
		</head>
		<body>
			<div class="container" id="main">

				<header>
					<marquee behavior="standard" direction="right"><img id="pandaGif" src="assets/redPanda.gif" alt="panda"></marquee>
					<div id="goople">Goople </div>


					<div id="searchBar"><input type="text" name= "search" placeholder="Search.."></div>
				</header>

				<div id="sidebar">
					
				

				<section>
					<a href="#" id="ComposeButton">Compose</a>

				</section>

				




				<div id= "count"></div>



				<div id= "trash"> 

				

				<img id="trashImg" src="assets/trashCan.jpg" alt="trash can">

				<div id= "trashWord">Trash</div>


				</div>

				<div id= "sentMail">
				<img id="sentMailImg" src="assets/sentMail.jpg" alt="sent Mail">
				<div id="sentMailword">Sent Mail</div>

				</div>

				<div id= "draftMail">
				<img id="draftMailImg" src="assets/drafts.jpg" alt="drafts Mail">
				<div id="draftMailword">Drafts</div>

				</div>


				</div>



				<div id= "mailContainer"></div>
				

<!-- 
				<ul class="navigation">
					<li class="active">
						<a href="#">Inbox  </a>
					</li>
					<li>
						<a href="#">Important</a>
					</li>
					<li>
						<a href="#">Drafts</a>
					</li>
					<li>
						<a href="#">Trash</a>
					</li>

				</ul> -->
			</div>
		


		</body>
		</html>